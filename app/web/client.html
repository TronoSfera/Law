<!doctype html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Страница клиента • Правовой трекер</title>
  <link rel="stylesheet" href="/client.css">
</head>
<body>
  <header class="topbar">
    <div class="wrap topbar-inner">
      <div class="brand">Кабинет клиента</div>
      <nav class="nav">
        <a href="/">На лендинг</a>
      </nav>
    </div>
  </header>

  <main class="wrap">
    <section class="client-shell">
      <div class="section-head">
        <div>
          <h1>Работа с заявками</h1>
          <p class="subtitle">Выберите заявку, следите за статусом, перепиской, файлами и счетами.</p>
        </div>
      </div>

      <article class="cabinet-card">
        <h2>Мои заявки</h2>
        <div class="request-switcher">
          <div class="field grow">
            <label for="client-request-select">Номер заявки</label>
            <select id="client-request-select"></select>
          </div>
          <button class="btn btn-ghost" id="client-refresh" type="button">Обновить</button>
        </div>
        <p class="status" id="client-page-status"></p>
        <div id="cabinet-summary" hidden>
          <div class="cabinet-meta">
            <div class="meta-row">
              <small>Статус</small>
              <b id="cabinet-request-status">-</b>
            </div>
            <div class="meta-row">
              <small>Тема</small>
              <b id="cabinet-request-topic">-</b>
            </div>
            <div class="meta-row">
              <small>Создана</small>
              <b id="cabinet-request-created">-</b>
            </div>
            <div class="meta-row">
              <small>Обновлена</small>
              <b id="cabinet-request-updated">-</b>
            </div>
          </div>
        </div>
      </article>

      <div class="cabinet-layout">
        <article class="cabinet-card">
          <h2>Чат с юристом</h2>
          <ul class="simple-list" id="cabinet-messages"></ul>
          <form class="chat-form" id="cabinet-chat-form">
            <textarea id="cabinet-chat-body" placeholder="Введите сообщение" disabled></textarea>
            <button class="btn btn-ghost" type="submit" id="cabinet-chat-send" disabled>Отправить сообщение</button>
          </form>
        </article>

        <article class="cabinet-card">
          <h2>Файлы по заявке</h2>
          <ul class="simple-list" id="cabinet-files"></ul>
          <div class="file-row">
            <input id="cabinet-file-input" type="file" disabled>
            <button class="btn btn-ghost" id="cabinet-file-upload" type="button" disabled>Загрузить файл</button>
          </div>
        </article>

        <article class="cabinet-card">
          <h2>Счета и оплата</h2>
          <ul class="simple-list" id="cabinet-invoices"></ul>
        </article>

        <article class="cabinet-card">
          <h2>История изменений</h2>
          <ul class="simple-list" id="cabinet-timeline"></ul>
        </article>
      </div>
    </section>
  </main>

  <div class="preview-overlay" id="file-preview-overlay" aria-hidden="true">
    <div class="preview-modal" role="dialog" aria-modal="true" aria-labelledby="file-preview-title">
      <div class="preview-head">
        <h3 id="file-preview-title">Предпросмотр файла</h3>
        <button class="close-btn" id="file-preview-close" type="button" aria-label="Закрыть">×</button>
      </div>
      <div class="preview-body" id="file-preview-body"></div>
    </div>
  </div>

  <div class="preview-overlay" id="data-request-overlay" aria-hidden="true">
    <div class="preview-modal data-request-modal" role="dialog" aria-modal="true" aria-labelledby="data-request-title">
      <div class="preview-head">
        <h3 id="data-request-title">Запрос данных</h3>
        <button class="close-btn" id="data-request-close" type="button" aria-label="Закрыть">×</button>
      </div>
      <div class="preview-body data-request-body">
        <form id="data-request-form" class="data-request-form">
          <div id="data-request-items"></div>
          <div class="data-request-actions">
            <button class="btn btn-ghost" id="data-request-save" type="submit">Сохранить</button>
          </div>
        </form>
        <p class="status" id="data-request-status"></p>
      </div>
    </div>
  </div>

  <script src="/client.js"></script>
</body>
</html>
